<?xml version="1.0" encoding="UTF-8"?>

<MACRO name="Cut clip by range selection" script="// This macro cuts a clib given a region selection&#10;// Usage: &#10;// 1. Select a range &#10;// 2. then select the clip containing the click track &#10;// 3. execute the macro&#10;&#10;function splitMarkedRegion(old_method)&#10;{&#10;    var start = Tracktion.getPosition ('markIn');&#10;    var end   = Tracktion.getPosition ('markOut');&#10;    if ( ! old_method) {&#10;        Tracktion.splitMarkedRegion();&#10;    } else {&#10;        Tracktion.setPosition ('cursor', start);&#10;        Tracktion.splitClips();&#10;        Tracktion.setPosition ('cursor', end);&#10;        Tracktion.splitClips();&#10;    }&#10;    return [start, end];&#10;}&#10;&#10;function cutClipsByRegionSelection()&#10;{&#10;    var clips   = Tracktion.getSelectedEditElements ('clip');&#10;    if (clips.length == 0) {&#10;        Tracktion.showMessage('No clips selected');&#10;        return;&#10;    }&#10;    var marks = splitMarkedRegion(true);&#10;}&#10;cutClipsByRegionSelection();&#10;"/>
